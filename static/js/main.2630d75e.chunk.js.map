{"version":3,"sources":["utils/fetchData.js","components/Header.jsx","components/Footer.jsx","App.jsx","Login.jsx","Post.jsx","Blog.jsx","NotFound.jsx","Routes.jsx","index.jsx"],"names":["fetchData","endpoint","method","a","body","signal","url","fetch","JSON","stringify","headers","credentials","data","console","log","Header","user","setUser","history","useHistory","className","to","type","id","onClick","then","push","catch","footer","App","useState","blogs","setBlogs","abortController","AbortController","useEffect","res","json","abort","deletePost","window","location","reload","map","blog","title","replace","toLowerCase","moment","date","format","role","_id","xmlns","width","height","fill","viewBox","d","fillRule","src","image","alt","introduction","smooth","comments","Footer","Login","error","setError","username","setUsername","password","setPassword","login","e","preventDefault","result","success","message","decoded","decode","access_token","onChange","target","value","placeholder","autoComplete","Post","setTitle","setIntroduction","setImage","text","setText","setMessage","length","required","accept","reader","FileReader","onloadend","readAsDataURL","files","handleImage","Date","post","Blog","useParams","setBlog","setComments","name","setName","err","blogID","rows","comment","fromNow","NotFound","Routes","loading","setLoading","accessToken","basename","process","exact","path","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.2630d75e.chunk.js","sourcesContent":["const fetchData = async (endpoint, method, body = null, signal = null) => {\n  try {\n    const server = 'https://blog-api-1337.herokuapp.com';\n    const url = `${server}/api/`;\n\n    const data = await fetch(url + endpoint, {\n      method,\n      body: body ? JSON.stringify(body) : null,\n      headers: { 'Content-Type': 'application/json' },\n      credentials: 'include',\n      signal,\n    });\n    return data;\n  } catch (err) {\n    console.log(err);\n  }\n};\n\nexport default fetchData;\n","import { Link, useHistory } from 'react-router-dom';\nimport fetchData from '../utils/fetchData';\n\nconst Header = ({ user, setUser }) => {\n  const history = useHistory()\n\n  const logOut = () => {\n    fetchData('logout', 'DELETE')\n      .then(() => {\n        setUser(null);\n        history.push('/')\n      })\n      .catch(() => {});\n  };\n\n  return (\n    <header>\n      <nav className=\"navbar navbar-expand-md navbar-dark bg-dark\">\n        <div className=\"container-fluid\">\n          <div className=\"d-flex w-75\">\n            <Link\n              to=\"/\"\n              className=\"navbar-brand fw-bold d-sm-block d-none me-5\"\n            >\n              Blog\n            </Link>\n\n            {/* <form className=\"search-bar\">\n              <input\n                className=\"form-control\"\n                type=\"search\"\n                placeholder=\"Search...\"\n                aria-label=\"Search\"\n              />\n            </form> */}\n          </div>\n\n          <button\n            className=\"navbar-toggler p-1\"\n            data-bs-toggle=\"collapse\"\n            data-bs-target=\"#navbarNav\"\n            aria-controls=\"navbarNav\"\n            aria-expanded=\"false\"\n            aria-label=\"Toggle navigation\"\n            type=\"button\"\n          >\n            <span className=\"navbar-toggler-icon\" />\n          </button>\n\n          <div className=\"collapse navbar-collapse flex-grow-0\" id=\"navbarNav\">\n            <div className=\"navbar-nav ms-auto\">\n              <Link className=\"nav-link active link d-sm-none d-block\" to=\"/\">\n                Home\n              </Link>\n              {!user && (\n                <Link className=\"nav-link active link\" to=\"/login\">\n                  Login\n                </Link>\n              )}\n              {user && (\n                <>\n                  <Link className=\"nav-link active link me-3\" to=\"/post\">\n                    Post new blog\n                  </Link>\n                  <button\n                    type=\"button\"\n                    onClick={() => logOut()}\n                    className=\"btn btn-outline-danger\"\n                  >\n                    Log out\n                  </button>\n                </>\n              )}\n            </div>\n          </div>\n        </div>\n      </nav>\n    </header>\n  );\n};\n\nexport default Header;\n","const footer = () => (\n  <footer className=\"py-3 mt-auto bg-white border-top\">\n    <div className=\"container-fluid text-center\">\n      <h5 className=\"\">Footer</h5>\n    </div>\n  </footer>\n);\n\nexport default footer;\n","import { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport { HashLink } from 'react-router-hash-link';\nimport moment from 'moment';\nimport fetchData from './utils/fetchData';\nimport Header from './components/Header';\nimport Footer from './components/Footer';\n\nconst App = ({ user, setUser }) => {\n  const [blogs, setBlogs] = useState([]);\n  const abortController = new AbortController();\n\n  useEffect(() => {\n    fetchData('blog', 'GET', null, abortController.signal)\n      .then((res) => res.json())\n      .then((res) => setBlogs(res))\n      .catch(() => {});\n\n    return () => abortController.abort();\n  }, []);\n\n  const deletePost = async (id) => {\n    fetchData('blog', 'DELETE', { id })\n      .then(() => window.location.reload())\n      .catch(() => {});\n  };\n\n  return (\n    <>\n      <Header user={user} setUser={setUser} />\n      <main className=\"\">\n        <section className=\"container py-3\">\n          {blogs.map((blog) => (\n            <article\n              className=\"my-5 p-sm-4 p-3 bg-white border rounded\"\n              key={blog._id}\n            >\n              {' '}\n              <div className=\"d-flex justify-content-between align-items-center mb-4\">\n                <div className=\"d-flex flex-sm-row flex-column\">\n                  <Link\n                    className=\"d-inline-block text-dark text-decoration-none\"\n                    to={`/post/${blog.title.replace(/ /g, '-').toLowerCase()}`}\n                  >\n                    <h5 className=\"link\">{blog.title}</h5>\n                  </Link>\n                  <h5 className=\"opacity-50 ms-sm-3\">\n                    {moment(blog.date).format('ll')}\n                  </h5>\n                </div>\n                {user?.role === 'admin' && (\n                  <button\n                    onClick={() => deletePost(blog._id)}\n                    className=\"btn btn-outline-secondary px-2 py-1\"\n                    type=\"button\"\n                  >\n                    <svg\n                      xmlns=\"http://www.w3.org/2000/svg\"\n                      width=\"16\"\n                      height=\"16\"\n                      fill=\"currentColor\"\n                      className=\"bi bi-trash\"\n                      viewBox=\"0 0 16 16\"\n                    >\n                      <path d=\"M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z\" />\n                      <path\n                        fillRule=\"evenodd\"\n                        d=\"M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z\"\n                      />\n                    </svg>\n                  </button>\n                )}\n              </div>\n              <Link\n                className=\"d-block mx-auto mb-3\"\n                to={`/post/${blog.title.replace(/ /g, '-').toLowerCase()}`}\n              >\n                <img src={blog.image} alt={`${blog.title}`} />\n              </Link>\n              <p className=\"mb-3 \">{blog.introduction}</p>\n              <HashLink\n                smooth\n                to={`/post/${blog.title\n                  .replace(/ /g, '-')\n                  .toLowerCase()}/#comments`}\n              >\n                {blog.comments > 1\n                  ? `${blog.comments} comments`\n                  : `${blog.comments} comment`}\n              </HashLink>\n            </article>\n          ))}\n        </section>\n      </main>\n      <Footer />\n    </>\n  );\n};\n\nexport default App;\n","import { useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport decode from 'jwt-decode';\nimport Header from './components/Header';\nimport Footer from './components/Footer';\nimport fetchData from './utils/fetchData';\n\nconst Login = ({ user, setUser }) => {\n  const [error, setError] = useState('');\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n  const history = useHistory();\n\n  const login = async (e) => {\n    e.preventDefault();\n    const res = await fetchData('login', 'POST', {\n      username,\n      password,\n    });\n    const result = await res?.json();\n\n    if (!result.success) {\n      setError(result.message);\n    }\n\n    if (result.success) {\n      const decoded = decode(result.access_token);\n      setUser(decoded);\n\n      history.push('/');\n    }\n  };\n\n  return (\n    <>\n      <Header user={user} setUser={setUser} />\n      <main className=\"pt-5\">\n        {!user ? (\n          <form className=\"container p-3 border rounded text-center bg-white\">\n            {error !== '' && (\n              <div className=\"alert alert-danger py-2 fw-bold\">{error}</div>\n            )}\n\n            <div className=\"mb-3\">\n              <input\n                onChange={(e) => setUsername(() => e.target.value)}\n                placeholder=\"Username\"\n                type=\"text\"\n                className=\"form-control\"\n                autoComplete=\"on\"\n              />\n            </div>\n            <div className=\"mb-3\">\n              <input\n                onChange={(e) => setPassword(() => e.target.value)}\n                placeholder=\"Password\"\n                type=\"password\"\n                className=\"form-control\"\n                autoComplete=\"on\"\n              />\n            </div>\n            <button\n              onClick={async (e) => login(e)}\n              type=\"submit\"\n              className=\"btn btn-dark px-3\"\n            >\n              Login\n            </button>\n          </form>\n        ) : (\n          <h1 className=\"text-center\">You have already logged in</h1>\n        )}\n      </main>\n      <Footer />\n    </>\n  );\n};\n\nexport default Login;\n","import { useState } from 'react';\nimport Header from './components/Header';\nimport Footer from './components/Footer';\nimport fetchData from './utils/fetchData';\n\nconst Post = ({ user, setUser }) => {\n  const [title, setTitle] = useState('');\n  const [introduction, setIntroduction] = useState('');\n  const [image, setImage] = useState('');\n  const [text, setText] = useState('');\n  const [message, setMessage] = useState('');\n\n  const handleImage = (e) => {\n    const reader = new FileReader();\n    reader.onloadend = () => setImage(reader.result);\n    reader.readAsDataURL(e.target.files[0]);\n  };\n\n  const post = (e) => {\n    e.preventDefault();\n    fetchData('post', 'POST', {\n      title,\n      image,\n      introduction,\n      text,\n      date: new Date(),\n    })\n      .then((res) => res.json())\n      .then((res) => setMessage(res))\n      .catch(() => {});\n  };\n\n  return (\n    <>\n      <Header user={user} setUser={setUser} />\n      <main className=\"py-5\">\n        {user?.role === 'admin' ? (\n          <form className=\"p-3 border rounded text-center container bg-white\">\n            {message.length > 0 && (\n              <div className=\"alert alert-primary\">{message}</div>\n            )}\n            <div className=\"mb-3\">\n              <input\n                placeholder=\"Title\"\n                type=\"text\"\n                className=\"form-control\"\n                autoComplete=\"on\"\n                onChange={(e) => setTitle(e.target.value)}\n                required\n              />\n            </div>\n            <div className=\"mb-3\">\n              <input\n                type=\"file\"\n                accept=\"image/*\"\n                className=\"form-control\"\n                onChange={(e) => handleImage(e)}\n                required\n              />\n            </div>\n            <div className=\"mb-3\">\n              <input\n                placeholder=\"Introduction\"\n                type=\"text\"\n                className=\"form-control\"\n                autoComplete=\"on\"\n                onChange={(e) => setIntroduction(e.target.value)}\n                required\n              />\n            </div>\n            <div className=\"mb-3\">\n              <textarea\n                onChange={(e) => setText(e.target.value)}\n                placeholder=\"Text\"\n                className=\"form-control\"\n                required\n              />\n            </div>\n            <button\n              onClick={(e) => post(e)}\n              type=\"submit\"\n              className=\"btn btn-dark px-3\"\n            >\n              Post\n            </button>\n          </form>\n        ) : (\n          <h1 className=\"text-center\">Unauthorized Access</h1>\n        )}\n      </main>\n      <Footer />\n    </>\n  );\n};\n\nexport default Post;\n","import { useState, useEffect } from 'react';\nimport { useParams } from 'react-router-dom';\nimport moment from 'moment';\nimport Header from './components/Header';\nimport Footer from './components/Footer';\nimport fetchData from './utils/fetchData';\n\nfunction Blog({ user, setUser }) {\n  const { title } = useParams();\n  const [blog, setBlog] = useState({});\n  const [comments, setComments] = useState([]);\n  const [name, setName] = useState('');\n  const [text, setText] = useState('');\n\n  const abortController = new AbortController();\n\n  useEffect(() => {\n    fetchData(`blog/${title}`, 'GET', null, abortController.signal)\n      .then((res) => res.json())\n      .then((res) => {\n        setBlog(res);\n      })\n      .catch((err) => console.log(err));\n\n    return () => abortController.abort();\n  }, []);\n\n  useEffect(() => {\n    if (blog?.text) {\n      fetchData(`comment/${blog._id}`, 'GET', null, abortController.signal)\n        .then((res) => res.json())\n        .then((res) => setComments(res))\n        .catch((err) => console.log(err));\n    }\n  }, [blog]);\n\n  const post = async () => {\n    try {\n      await fetchData('comment', 'POST', {\n        name: user?.username || name,\n        role: user?.role || 'guest',\n        text,\n        date: new Date(),\n        blogID: blog._id,\n      });\n      window.location.reload();\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  return (\n    <>\n      <Header user={user} setUser={setUser} />\n\n      {blog?.text ? (\n        <main>\n          <div className=\"container py-5\">\n            <section className=\"\">\n              <article>\n                <h2 className=\"mb-2\">{blog.title}</h2>\n                <div className=\"d-flex opacity-50\">\n                  <h5>{moment(blog.date).format('ll')}</h5>\n                </div>\n                <img className=\"my-4 w-100\" src={blog.image} alt={blog.title} />\n                <p className=\"pt-3\">{blog.text}</p>\n              </article>\n            </section>\n            <section id=\"comments\" className=\"border-top border-2 mt-5 py-3\">\n              <div className=\"d-flex py-2\">\n                <span className=\"p-1 me-2 bg-primary\" />\n                <h5>\n                  {blog.comments > 1 ? 'Comments' : 'Comment'}\n                  <span className=\"ms-2 opacity-50 fs-6\">{`(${blog.comments})`}</span>\n                </h5>\n              </div>\n              <form className=\"border p-3 my-4 rounded d-flex flex-column\">\n                {!user ? (\n                  <input\n                    className=\"form-control w-50\"\n                    type=\"text\"\n                    placeholder=\"Name\"\n                    onChange={(e) => setName(e.target.value)}\n                    required\n                  />\n                ) : (\n                  <h5>{user.username}</h5>\n                )}\n                <textarea\n                  className=\"form-control mt-3\"\n                  rows=\"4\"\n                  required\n                  onChange={(e) => setText(e.target.value)}\n                />\n                <button\n                  className=\"btn btn-outline-primary mt-3 w-50 mx-auto\"\n                  type=\"button\"\n                  onClick={() => post()}\n                >\n                  Post\n                </button>\n              </form>\n              {comments.map((comment) => (\n                <div className=\"py-3 border-bottom\" key={comment._id}>\n                  <div className=\"d-flex mb-1 flex-sm-row flex-column\">\n                    <div className=\"d-flex align-items-center\">\n                      {comment.role === 'admin' && (\n                        <svg\n                          xmlns=\"http://www.w3.org/2000/svg\"\n                          width=\"16\"\n                          height=\"16\"\n                          fill=\"currentColor\"\n                          className=\"bi bi-patch-check-fill me-1 text-success\"\n                          viewBox=\"0 0 16 16\"\n                        >\n                          <path d=\"M10.067.87a2.89 2.89 0 0 0-4.134 0l-.622.638-.89-.011a2.89 2.89 0 0 0-2.924 2.924l.01.89-.636.622a2.89 2.89 0 0 0 0 4.134l.637.622-.011.89a2.89 2.89 0 0 0 2.924 2.924l.89-.01.622.636a2.89 2.89 0 0 0 4.134 0l.622-.637.89.011a2.89 2.89 0 0 0 2.924-2.924l-.01-.89.636-.622a2.89 2.89 0 0 0 0-4.134l-.637-.622.011-.89a2.89 2.89 0 0 0-2.924-2.924l-.89.01-.622-.636zm.287 5.984-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 1 1 .708-.708L7 8.793l2.646-2.647a.5.5 0 0 1 .708.708z\" />\n                        </svg>\n                      )}\n                      <p className=\"fw-bold\">{comment.name}</p>\n                    </div>\n                    <p className=\"opacity-50 ms-sm-2\">\n                      {moment(comment.date).fromNow()}\n                    </p>\n                  </div>\n                  <p>{comment.text}</p>\n                </div>\n              ))}\n            </section>\n          </div>\n        </main>\n      ) : <h1 className=\"py-5 text-center\">{blog.message}</h1>}\n      <Footer />\n    </>\n  );\n}\n\nexport default Blog;\n","import Header from './components/Header';\nimport Footer from './components/Footer';\n\nconst NotFound = ({ user, setUser }) => (\n  <>\n    <Header user={user} setUser={setUser} />\n    <div>\n      <h1 className=\"text-center py-5\">404 Page Not Found</h1>\n    </div>\n    <Footer />\n  </>\n);\n\nexport default NotFound;\n","import { useState, useEffect } from 'react';\nimport { BrowserRouter, Switch, Route } from 'react-router-dom';\nimport decode from 'jwt-decode';\nimport App from './App';\nimport Login from './Login';\nimport Post from './Post';\nimport Blog from './Blog';\nimport NotFound from './NotFound';\nimport fetchData from './utils/fetchData';\n\nconst Routes = () => {\n  const [user, setUser] = useState(null);\n  const [loading, setLoading] = useState(false);\n\n  useEffect(() => {\n    if (!user) {\n      setLoading(true);\n      fetchData('refresh', 'POST')\n        .then((res) => res.json())\n        .then((res) => {\n          if (res.access_token) {\n            const accessToken = decode(res.access_token);\n            setUser(accessToken);\n          }\n          setLoading(false);\n        })\n        .catch(() => {\n          setLoading(false);\n        });\n    }\n  }, [user]);\n\n  return (\n    // eslint-disable-next-line no-undef\n    <BrowserRouter basename={process.env.PUBLIC_URL}>\n      {loading ? null : (\n        <Switch>\n          <Route exact path=\"/\">\n            <App user={user} setUser={setUser} />\n          </Route>\n          <Route exact path=\"/login\">\n            <Login user={user} setUser={setUser} />\n          </Route>\n          <Route exact path=\"/post\">\n            <Post user={user} setUser={setUser} />\n          </Route>\n          <Route exact path=\"/post/:title\">\n            <Blog user={user} setUser={setUser} />\n          </Route>\n          <Route>\n            <NotFound user={user} setUser={setUser} />\n          </Route>\n        </Switch>\n      )}\n    </BrowserRouter>\n  );\n};\n\nexport default Routes;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport Routes from './Routes';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Routes />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}